Index: openwrt/target/linux/x86/config-3.18
===================================================================
---openwrt/target/linux/x86/config-3.18	
+++openwrt/target/linux/x86/config-3.18	
@@ -70,6 +70,7 @@
 CONFIG_CPU_FREQ_STAT_DETAILS=y
 CONFIG_CPU_IDLE=y
 CONFIG_CPU_IDLE_GOV_LADDER=y
+CONFIG_CPU_RMAP=y
 CONFIG_CPU_SUP_AMD=y
 CONFIG_CPU_SUP_CENTAUR=y
 CONFIG_CPU_SUP_CYRIX_32=y
@@ -122,6 +123,7 @@
 CONFIG_GENERIC_IRQ_SHOW=y
 CONFIG_GENERIC_ISA_DMA=y
 CONFIG_GENERIC_PCI_IOMAP=y
+CONFIG_GENERIC_PENDING_IRQ=y
 CONFIG_GENERIC_SMP_IDLE_THREAD=y
 CONFIG_GENERIC_STRNCPY_FROM_USER=y
 CONFIG_GENERIC_STRNLEN_USER=y
@@ -270,20 +272,21 @@
 # CONFIG_MTD_COMPLEX_MAPPINGS is not set
 CONFIG_MTRR=y
 # CONFIG_MTRR_SANITIZER is not set
+CONFIG_MUTEX_SPIN_ON_OWNER=y
 # CONFIG_MVIAC3_2 is not set
 # CONFIG_MVIAC7 is not set
 # CONFIG_MWINCHIP3D is not set
 # CONFIG_MWINCHIPC6 is not set
 CONFIG_NAMESPACES=y
 CONFIG_NEED_PER_CPU_EMBED_FIRST_CHUNK=y
-CONFIG_NEED_PER_CPU_KM=y
 CONFIG_NEED_PER_CPU_PAGE_FIRST_CHUNK=y
 CONFIG_NEED_SG_DMA_LENGTH=y
 # CONFIG_NET5501 is not set
+CONFIG_NET_FLOW_LIMIT=y
 # CONFIG_NET_NS is not set
 CONFIG_NOHIGHMEM=y
 CONFIG_NO_BOOTMEM=y
-CONFIG_NR_CPUS=1
+CONFIG_NR_CPUS=8
 # CONFIG_NSC_GPIO is not set
 # CONFIG_NTB is not set
 CONFIG_NVRAM=y
@@ -317,11 +320,15 @@
 # CONFIG_PROCESSOR_SELECT is not set
 CONFIG_PROC_PAGE_MONITOR=y
 # CONFIG_PROVIDE_OHCI1394_DMA_INIT is not set
-# CONFIG_RCU_STALL_COMMON is not set
+CONFIG_QUEUE_RWLOCK=y
+CONFIG_RCU_STALL_COMMON=y
 CONFIG_RD_BZIP2=y
 CONFIG_RD_GZIP=y
 # CONFIG_RELOCATABLE is not set
+CONFIG_RFS_ACCEL=y
+CONFIG_RPS=y
 CONFIG_RTC_CLASS=y
+CONFIG_RWSEM_SPIN_ON_OWNER=y
 CONFIG_RWSEM_XCHGADD_ALGORITHM=y
 # CONFIG_SBC7240_WDT is not set
 # CONFIG_SBC8360_WDT is not set
@@ -341,12 +348,15 @@
 CONFIG_SERIO_SERPORT=y
 # CONFIG_SLAB is not set
 CONFIG_SLUB=y
+CONFIG_SLUB_CPU_PARTIAL=y
 CONFIG_SLUB_DEBUG=y
 # CONFIG_SLUB_DEBUG_ON is not set
+CONFIG_SMP=y
 # CONFIG_SMSC37B787_WDT is not set
 # CONFIG_SMSC_SCH311X_WDT is not set
 CONFIG_SPARSEMEM_STATIC=y
 CONFIG_SPARSE_IRQ=y
+CONFIG_STOP_MACHINE=y
 CONFIG_STRICT_DEVMEM=y
 CONFIG_SYSCTL_EXCEPTION_TRACE=y
 # CONFIG_TELCLOCK is not set
@@ -359,7 +369,9 @@
 CONFIG_THERMAL_GOV_STEP_WISE=y
 # CONFIG_THERMAL_GOV_USER_SPACE is not set
 CONFIG_TICK_CPU_ACCOUNTING=y
+# CONFIG_TINY_RCU is not set
 # CONFIG_TOSHIBA is not set
+CONFIG_TREE_RCU=y
 CONFIG_UID16=y
 CONFIG_USB_SUPPORT=y
 # CONFIG_USER_NS is not set
@@ -379,8 +391,10 @@
 CONFIG_X86_32=y
 # CONFIG_X86_32_IRIS is not set
 CONFIG_X86_32_LAZY_GS=y
+CONFIG_X86_32_SMP=y
 CONFIG_X86_ALIGNMENT_16=y
 # CONFIG_X86_ANCIENT_MCE is not set
+# CONFIG_X86_BIGSMP is not set
 # CONFIG_X86_CHECK_BIOS_CORRUPTION is not set
 # CONFIG_X86_CPUFREQ_NFORCE2 is not set
 # CONFIG_X86_CPUID is not set
@@ -389,6 +403,7 @@
 CONFIG_X86_FEATURE_NAMES=y
 CONFIG_X86_GENERIC=y
 # CONFIG_X86_GX_SUSPMOD is not set
+CONFIG_X86_HT=y
 # CONFIG_X86_INTEL_PSTATE is not set
 CONFIG_X86_INTEL_USERCOPY=y
 CONFIG_X86_INTERNODE_CACHE_SHIFT=6
@@ -423,10 +438,9 @@
 # CONFIG_X86_SPEEDSTEP_SMI is not set
 CONFIG_X86_SUPPORTS_MEMORY_FAILURE=y
 CONFIG_X86_THERMAL_VECTOR=y
-CONFIG_X86_UP_APIC=y
 CONFIG_X86_UP_APIC_MSI=y
-CONFIG_X86_UP_IOAPIC=y
 CONFIG_X86_VERBOSE_BOOTUP=y
+CONFIG_XPS=y
 CONFIG_XZ_DEC_BCJ=y
 CONFIG_XZ_DEC_X86=y
 CONFIG_ZLIB_INFLATE=y
