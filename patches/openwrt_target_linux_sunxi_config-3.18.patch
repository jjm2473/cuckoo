Index: openwrt/target/linux/sunxi/config-3.18
===================================================================
---openwrt/target/linux/sunxi/config-3.18	
+++openwrt/target/linux/sunxi/config-3.18	
@@ -1,5 +1,5 @@
 CONFIG_ADVISE_SYSCALLS=y
-# CONFIG_AHCI_SUNXI is not set
+CONFIG_AHCI_SUNXI=y
 CONFIG_ALIGNMENT_TRAP=y
 # CONFIG_APM_EMULATION is not set
 CONFIG_ARCH_BINFMT_ELF_RANDOMIZE_PIE=y
@@ -83,8 +83,8 @@
 CONFIG_CLKSRC_MMIO=y
 CONFIG_CLKSRC_OF=y
 CONFIG_CLONE_BACKWARDS=y
-CONFIG_CMDLINE="console=ttyS0,115200 earlyprintk rootwait root=/dev/mmcblk0p2"
-CONFIG_CMDLINE_FORCE=y
+CONFIG_CMDLINE="console=ttyS0,115200 earlyprintk rootwait root=/dev/mtdblock0 rootfstype=squashfs block2mtd.block2mtd=/dev/mmcblk0p2,65536,rootfs,5"
+CONFIG_CMDLINE_FROM_BOOTLOADER=y
 CONFIG_COMMON_CLK=y
 CONFIG_COMPACTION=y
 CONFIG_CONFIGFS_FS=y
@@ -284,6 +284,17 @@
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MDIO_BOARDINFO=y
 CONFIG_MDIO_SUN4I=y
+CONFIG_MEDIA_SUPPORT=y
+CONFIG_MEDIA_RC_SUPPORT=y
+CONFIG_RC_DEVICES=y
+CONFIG_RC_DECODERS=y
+CONFIG_LIRC=y
+CONFIG_IR_LIRC_CODEC=y
+CONFIG_IR_SUNXI=y
+CONFIG_IR_MCE_KBD_DECODER=y
+CONFIG_IR_SANYO_DECODER=y
+CONFIG_IR_SHARP_DECODER=y
+CONFIG_IR_XMP_DECODER=y
 # CONFIG_MEMCG is not set
 CONFIG_MFD_AXP20X=y
 CONFIG_MFD_CORE=y
@@ -297,6 +308,7 @@
 # CONFIG_MMC_DEBUG is not set
 CONFIG_MMC_SUNXI=y
 CONFIG_MODULES_USE_ELF_REL=y
+CONFIG_MTD_BLOCK2MTD=y
 CONFIG_MULTI_IRQ_HANDLER=y
 CONFIG_MUTEX_SPIN_ON_OWNER=y
 CONFIG_NAMESPACES=y
@@ -387,7 +399,6 @@
 CONFIG_RELAY=y
 CONFIG_RESET_CONTROLLER=y
 CONFIG_RESOURCE_COUNTERS=y
-# CONFIG_RFKILL_REGULATOR is not set
 CONFIG_RFS_ACCEL=y
 CONFIG_RPS=y
 CONFIG_RWSEM_SPIN_ON_OWNER=y
@@ -396,7 +407,6 @@
 CONFIG_SCHED_HRTICK=y
 CONFIG_SCSI=y
 CONFIG_SDIO_UART=y
-# CONFIG_SECCOMP is not set
 CONFIG_SECURITYFS=y
 # CONFIG_SENSORS_PWM_FAN is not set
 CONFIG_SERIAL_8250_DW=y
